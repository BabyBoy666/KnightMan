/*! For license information please see WeaponPlugin.modern.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("WeaponPlugin",[],e):"object"==typeof exports?exports.WeaponPlugin=e():t.WeaponPlugin=e()}(globalThis,(function(){return(()=>{"use strict";var t=[(t,e,i)=>{i.r(e),i.d(e,{Weapon:()=>l.default,Bullet:()=>s.default,consts:()=>r.default,events:()=>a.default,WeaponPlugin:()=>h.default});var l=i(1),s=i(2),r=i(3),a=i(4),h=i(6)},(t,e,i)=>{i.r(e),i.d(e,{default:()=>n});var l=i(2),s=i(3),r=i(5),a=i(4);class h extends Phaser.Events.EventEmitter{constructor(t,e,i="",a="",h){super(),this.scene=void 0,this.debugPhysics=!1,this._bullets=void 0,this._autoExpandBulletsGroup=!1,this._autofire=!1,this._shots=0,this._fireLimit=0,this._fireRate=100,this._fireRateVariance=0,this._fireFrom=new Phaser.Geom.Rectangle(0,0,1,1),this._fireAngle=s.Angle.ANGLE_UP,this._bulletInheritSpriteSpeed=!1,this._bulletAnimation="",this._bulletFrameRandom=!1,this._bulletFrameCycle=!1,this._bulletWorldWrap=!1,this._bulletWorldWrapPadding=0,this._bulletAngleOffset=0,this._bulletAngleVariance=0,this._bulletSpeed=200,this._bulletSpeedVariance=0,this._bulletLifespan=0,this._bulletKillDistance=0,this._bulletGravity=new Phaser.Math.Vector2(0,0),this._bulletRotateToVelocity=!1,this._bulletKey=void 0,this._bulletFrame=void 0,this._bulletClass=l.default,this._bulletCollideWorldBounds=!1,this._bulletKillType=s.KillType.KILL_WORLD_BOUNDS,this._data={customBody:!1,width:0,height:0,offsetX:0,offsetY:0},this._bounds=new Phaser.Geom.Rectangle,this._bulletBounds=void 0,this._bulletFrames=[],this._bulletFrameIndex=0,this.anims={},this._trackedSprite=void 0,this._trackedPointer=void 0,this._multiFire=!1,this._hasFired=!1,this._trackRotation=!1,this._trackOffset=new Phaser.Math.Vector2,this._nextFire=0,this._tempNextFire=0,this._rotatedPoint=new Phaser.Math.Vector2,this.logLevel="warn",this.scene=t,this._bulletKey=i,this._bulletFrame=a,this._bulletBounds=this.scene.physics.world.bounds,(0,r.default)(this),this.createBullets(e,i,a,h)}get bullets(){return this._bullets}set bullets(t){this._bullets=t,(0,r.default)(this,"bullets")}get autoExpandBulletsGroup(){return this._autoExpandBulletsGroup}set autoExpandBulletsGroup(t){this._autoExpandBulletsGroup=t,(0,r.default)(this,"autoExpandBulletsGroup")}get autofire(){return this._autofire}set autofire(t){this._autofire=t,(0,r.default)(this,"autofire")}get shots(){return this._shots}set shots(t){this._shots=t,(0,r.default)(this,"shots")}get fireLimit(){return this._fireLimit}set fireLimit(t){this._fireLimit=t,(0,r.default)(this,"fireLimit")}get fireRate(){return this._fireRate}set fireRate(t){this._fireRate=t,(0,r.default)(this,"fireRate")}get fireRateVariance(){return this._fireRateVariance}set fireRateVariance(t){this._fireRateVariance=t,(0,r.default)(this,"fireRateVariance")}get fireFrom(){return this._fireFrom}set fireFrom(t){this._fireFrom=t,(0,r.default)(this,"fireFrom")}get fireAngle(){return this._fireAngle}set fireAngle(t){this._fireAngle=t,(0,r.default)(this,"fireAngle")}get bulletInheritSpriteSpeed(){return this._bulletInheritSpriteSpeed}set bulletInheritSpriteSpeed(t){this._bulletInheritSpriteSpeed=t,(0,r.default)(this,"bulletInheritSpriteSpeed")}get bulletAnimation(){return this._bulletAnimation}set bulletAnimation(t){this._bulletAnimation=t,(0,r.default)(this,"bulletAnimation")}get bulletFrameRandom(){return this._bulletFrameRandom}set bulletFrameRandom(t){this._bulletFrameRandom=t,(0,r.default)(this,"bulletFrameRandom")}get bulletFrameCycle(){return this._bulletFrameCycle}set bulletFrameCycle(t){this._bulletFrameCycle=t,(0,r.default)(this,"bulletFrameCycle")}get bulletWorldWrap(){return this._bulletWorldWrap}set bulletWorldWrap(t){this._bulletWorldWrap=t,(0,r.default)(this,"bulletWorldWrap")}get bulletWorldWrapPadding(){return this._bulletWorldWrapPadding}set bulletWorldWrapPadding(t){this._bulletWorldWrapPadding=t,(0,r.default)(this,"bulletWorldWrapPadding")}get bulletAngleOffset(){return this._bulletAngleOffset}set bulletAngleOffset(t){this._bulletAngleOffset=t,(0,r.default)(this,"bulletAngleOffset")}get bulletAngleVariance(){return this._bulletAngleVariance}set bulletAngleVariance(t){this._bulletAngleVariance=t,(0,r.default)(this,"bulletAngleVariance")}get bulletSpeed(){return this._bulletSpeed}set bulletSpeed(t){this._bulletSpeed=t,(0,r.default)(this,"bulletSpeed")}get bulletSpeedVariance(){return this._bulletSpeedVariance}set bulletSpeedVariance(t){this._bulletSpeedVariance=t,(0,r.default)(this,"bulletSpeedVariance")}get bulletLifespan(){return this._bulletLifespan}set bulletLifespan(t){this._bulletLifespan=t,(0,r.default)(this,"bulletLifespan")}get bulletKillDistance(){return this._bulletKillDistance}set bulletKillDistance(t){this._bulletKillDistance=t,(0,r.default)(this,"bulletKillDistance")}get bulletGravity(){return this._bulletGravity}set bulletGravity(t){this._bulletGravity=t,(0,r.default)(this,"bulletGravity")}get bulletRotateToVelocity(){return this._bulletRotateToVelocity}set bulletRotateToVelocity(t){this._bulletRotateToVelocity=t,(0,r.default)(this,"bulletRotateToVelocity")}get bulletKey(){return this._bulletKey}set bulletKey(t){this._bulletKey=t,(0,r.default)(this,"bulletKey")}get bulletFrame(){return this._bulletFrame}set bulletFrame(t){this._bulletFrame=t,(0,r.default)(this,"bulletFrame")}get bulletClass(){return this._bulletClass}set bulletClass(t){this._bulletClass=t,this.bullets&&(this.bullets.classType=this._bulletClass),(0,r.default)(this,"bulletClass")}get bulletCollideWorldBounds(){return this._bulletCollideWorldBounds}set bulletCollideWorldBounds(t){this._bulletCollideWorldBounds=t,this.bullets.children.each((e=>{e.body.collideWorldBounds=t,e.setData("bodyDirty",!1)})),(0,r.default)(this,"bulletCollideWorldBounds")}get bulletKillType(){return this._bulletKillType}set bulletKillType(t){switch(t){case s.KillType.KILL_STATIC_BOUNDS:case s.KillType.KILL_WEAPON_BOUNDS:this.bulletBounds=this.bounds;break;case s.KillType.KILL_CAMERA_BOUNDS:this.bulletBounds=this.scene.sys.cameras.main.getBounds();break;case s.KillType.KILL_WORLD_BOUNDS:this.bulletBounds=this.scene.physics.world.bounds}this._bulletKillType=t,(0,r.default)(this,"bulletKillType")}get bounds(){return this._bounds}set bounds(t){this._bounds=t,(0,r.default)(this,"bounds")}get bulletBounds(){return this._bulletBounds}set bulletBounds(t){this._bulletBounds=t,(0,r.default)(this,"bulletBounds")}get bulletFrames(){return this._bulletFrames}set bulletFrames(t){this._bulletFrames=t,(0,r.default)(this,"bulletFrames")}get bulletFrameIndex(){return this._bulletFrameIndex}set bulletFrameIndex(t){this._bulletFrameIndex=t,(0,r.default)(this,"bulletFrameIndex")}get trackedSprite(){return this._trackedSprite}set trackedSprite(t){this._trackedSprite=t,(0,r.default)(this,"trackedSprite")}get trackedPointer(){return this._trackedPointer}set trackedPointer(t){this._trackedPointer=t,(0,r.default)(this,"trackedPointer")}get multiFire(){return this._multiFire}set multiFire(t){this._multiFire=t,(0,r.default)(this,"multiFire")}get trackRotation(){return this._trackRotation}set trackRotation(t){this._trackRotation=t,(0,r.default)(this,"trackRotation")}get trackOffset(){return this._trackOffset}set trackOffset(t){this._trackOffset=t,(0,r.default)(this,"trackOffset")}get x(){return this.fireFrom.x}set x(t){this.fireFrom.x=t}get y(){return this.fireFrom.y}set y(t){this.fireFrom.y=t}createBullets(t=1,e,i,l,s){return s&&(this._bulletClass=s),this.bullets&&this.bullets.scene||(this.bullets=this.scene.add.group({classType:this._bulletClass,maxSize:t,runChildUpdate:!0})),0!==t&&(-1===t&&(this.autoExpandBulletsGroup=!0,t=1),this.bullets.createMultiple({key:e,frame:i,repeat:t,active:!1,visible:!1}),this.bullets.children.each((t=>{t.setData("bulletManager",this)})),"string"==typeof e&&(this.bulletKey=e),"string"==typeof i&&this.bulletFrame,l&&l.addMultiple(this.bullets.children.entries)),this}forEach(t,e,...i){return this.bullets.children.each((l=>{l.active&&t.call(e,l,i)})),this}pauseAll(){return this.bullets.children.each((t=>{t.body.enable=!1;const e=t.getData("timeEvent");void 0!==e&&(e.paused=!0)}),this),this}resumeAll(){return this.bullets.children.each((t=>{t.body.enable=!0;const e=t.getData("timeEvent");void 0!==e&&(e.paused=!1)}),this),this}killAll(){return this.bullets.children.each((t=>{t.active&&t.kill(),t.body.enable=!0})),this}resetShots(t){return this.shots=0,void 0!==t&&(this.fireLimit=t),this}trackSprite(t,e=0,i=0,l=!1){return this.trackedPointer=void 0,this.trackedSprite=t,this.trackRotation=l,this.trackOffset.set(e,i),this}trackPointer(t,e=0,i=0){return void 0===t&&this.scene.input&&(t=this.scene.input.activePointer),this.trackedPointer=t,this.trackedSprite=void 0,this.trackRotation=!1,this.trackOffset.set(e,i),this}fireMany(t,e){this.multiFire=!0;const i=[];return e||this.trackedSprite||this.trackedPointer?t.forEach((t=>{const l=this.fire(e,null,null,t.x,t.y);l&&i.push(l)})):t.forEach((t=>{const e=this.fire(t);e&&i.push(e)})),i}fireOffset(t=0,e=0){return this.fire(null,null,null,t,e)}fireAtPointer(t){return void 0===t&&this.scene.input&&(t=this.scene.input.activePointer),this.fire(null,t?.x,t?.y)}fireAtSprite(t){return this.fire(null,t?.x,t?.y)}fireAtXY(t,e){return this.fire(null,t,e)}fire(t,e,i,l=0,r=0){if(this.scene.time.now<this._nextFire||this.fireLimit>0&&this.shots===this.fireLimit)return;let h=this.bulletSpeed;0!==this.bulletSpeedVariance&&(h+=Phaser.Math.Between(-this.bulletSpeedVariance,this.bulletSpeedVariance)),t?this.updateFireFrom(t.x,t.y):this.trackedSprite&&"number"==typeof this.trackedSprite.rotation?(this.trackRotation?(this._rotatedPoint.set(this.trackedSprite.x+this.trackOffset.x,this.trackedSprite.y+this.trackOffset.y),Phaser.Math.RotateAround(this._rotatedPoint,this.trackedSprite.x,this.trackedSprite.y,this.trackedSprite.rotation),this.updateFireFrom(this._rotatedPoint.x,this._rotatedPoint.y)):this.updateFireFrom(this.trackedSprite.x,this.trackedSprite.y),this.bulletInheritSpriteSpeed&&this.trackedSprite.body&&(h+=this.trackedSprite.body.speed)):this.trackedPointer&&this.updateFireFrom(this.trackedPointer.x,this.trackedPointer.y),this.fireFrom.x+=l,this.fireFrom.y+=r;const n=this.fireFrom.width>1?this.fireFrom.x+Math.random()*this.fireFrom.width:this.fireFrom.x,u=this.fireFrom.height>1?this.fireFrom.y+Math.random()*this.fireFrom.height:this.fireFrom.y;let o="number"==typeof this.trackedSprite?.angle&&this.trackRotation?this.trackedSprite.angle:this.fireAngle;"number"==typeof e&&"number"==typeof i&&(o=Phaser.Math.RadToDeg(Math.atan2(i-u,e-n))),0!==this.bulletAngleVariance&&(o+=Phaser.Math.Between(-this.bulletAngleVariance,this.bulletAngleVariance));let d,b=0,c=0;if(0===o||180===o?b=Math.cos(Phaser.Math.DegToRad(o))*h:(90===o||270===o||(b=Math.cos(Phaser.Math.DegToRad(o))*h),c=Math.sin(Phaser.Math.DegToRad(o))*h),this.autoExpandBulletsGroup?(d=this.bullets.getFirstDead(!0,n,u,this.bulletKey,this.bulletFrame),d?.setData("bulletManager",this)):d=this.bullets.getFirstDead(!1),void 0!==d){if(d.prepare(n,u),d.setData({fromX:n,fromY:u,killType:this.bulletKillType,killDistance:this.bulletKillDistance,rotateToVelocity:this.bulletRotateToVelocity}),this.bulletKillType===s.KillType.KILL_LIFESPAN&&(d.setData("timeEvent",this.scene.time.addEvent({delay:this.bulletLifespan,callback:d.kill,callbackScope:d})),d.lifespan=this.bulletLifespan),d.angle=o+this.bulletAngleOffset,this.bulletAnimation)d.anims.play(this.bulletAnimation);else if(this.bulletFrameCycle)this.bulletFrameIndex>=this.bulletFrames.length&&(this.bulletFrameIndex=0),d.setTexture(this.bulletKey,this.bulletFrameIndex),this.bulletFrameIndex++;else if(this.bulletFrameRandom){const t=Math.floor(Math.random()*this.bulletFrames.length);d.setTexture(this.bulletKey,t)}d.getData("bodyDirty")&&(this._data.customBody&&(d.body.setSize(this._data.width,this._data.height),d.body.setOffset(this._data.offsetX,this._data.offsetY)),d.body.collideWorldBounds=this.bulletCollideWorldBounds,d.setData("bodyDirty",!1)),d.body.setVelocity(b,c),d.body.setGravity(this.bulletGravity.x,this.bulletGravity.y);let t=0;if(0!==this.bulletSpeedVariance){let e=this.fireRate;e+=Phaser.Math.Between(-this.fireRateVariance,this.fireRateVariance),e<0&&(e=0),t=this.scene.time.now+e}else t=this.scene.time.now+this.fireRate;this.multiFire?this._hasFired||(this._hasFired=!0,this._tempNextFire=t,this.shots++):(this._nextFire=t,this.shots++),this.emit(a.WEAPON_FIRE,d,this,h),this.fireLimit>0&&this.shots===this.fireLimit&&this.emit(a.WEAPON_FIRE_LIMIT,this,this.fireLimit)}return d}updateFireFrom(t,e){this.fireFrom.width>1?Phaser.Geom.Rectangle.CenterOn(this.fireFrom,t+this.trackOffset.x,e+this.trackOffset.y):(this.fireFrom.x=t+this.trackOffset.x,this.fireFrom.y=e+this.trackOffset.y)}setBulletBodyOffset(t,e,i=0,l=0){return this._data.customBody=!0,this._data.width=t,this._data.height=e,this._data.offsetX=i,this._data.offsetY=l,this.bullets.children.each((s=>{s.body.setSize(t,e),s.body.setOffset(i,l),s.setData("bodyDirty",!1)})),this}setBulletFrames(t,e,i=s.FrameType.BULLET_FRAME_STABLE){return("number"!=typeof i||i<s.FrameType.BULLET_FRAME_STABLE||i>s.FrameType.BULLET_FRAME_RANDOM)&&(0,r.log)(`Invalid bullet frame selection method specified: ${i}`,this.logLevel),t>e&&(0,r.log)(`min frame (${t}) must be <= max frame (${e})`,this.logLevel),this.bulletFrames=Phaser.Utils.Array.NumberArray(t,e),this.bulletFrameIndex=0,this.bulletFrameCycle=i===s.FrameType.BULLET_FRAME_CYCLE,this.bulletFrameRandom=i===s.FrameType.BULLET_FRAME_RANDOM,this}addBulletAnimation(t,e,i=60,l=0){return this.scene.sys.anims.exists(t)||(this.scene.sys.anims.create({key:t,frames:e,frameRate:i,repeat:l}),this.anims[t]=this.scene.sys.anims.get(t)),this.bulletAnimation=t,this}update(){this._bulletKillType===s.KillType.KILL_WEAPON_BOUNDS&&(this.trackedSprite?Phaser.Geom.Rectangle.CenterOn(this.bounds,this.trackedSprite.x,this.trackedSprite.y):this.trackedPointer&&Phaser.Geom.Rectangle.CenterOn(this.bounds,this.trackedPointer.x,this.trackedPointer.y)),this.autofire&&this.fire()}postRender(){this.multiFire&&this._hasFired&&(this._hasFired=!1,this._nextFire=this._tempNextFire)}destroy(){this.scene=void 0,this.bullets.destroy(!0)}}const n=h},(t,e,i)=>{i.r(e),i.d(e,{default:()=>h});var l=i(3),s=i(4);let r=0;class a extends Phaser.GameObjects.Sprite{constructor(t,e,i,s,a){super(t,e,i,s,a),this.body=void 0,this.bulletID=void 0,this.lifespan=void 0,this.bulletID=r,r++,this.scene.physics.add.existing(this),this.setDataEnabled(),this.setData({timeEvent:void 0,bulletManager:void 0,fromX:0,fromY:0,bodyDirty:!0,rotateToVelocity:!1,killType:l.KillType.KILL_NEVER,killDistance:0,bodyBounds:new Phaser.Geom.Rectangle})}setData(t,e){return super.setData(t,e)}getData(t){return super.getData(t)}prepare(t,e){this.setActive(!0),this.setVisible(!0),this.body.enable=!0,this.body.reset(t,e);const i=this.getData("bulletManager")?.debugPhysics||!1;this.body.debugShowBody=i,this.body.debugShowVelocity=i}kill(){this.body.stop(),this.body.enable=!1,this.setActive(!1),this.setVisible(!1),this.body.debugShowBody=!1,this.body.debugShowVelocity=!1;const t=this.getData("timeEvent");return void 0!==t&&(t.destroy(),this.setData("timeEvent",void 0)),this.getData("bulletManager")?.emit(s.BULLET_KILL,this,this.getData("bulletManager")),this}update(){if(!this.active)return;const t=this.getData("bulletManager");this.getData("killType")>l.KillType.KILL_LIFESPAN&&(this.getData("killType")===l.KillType.KILL_DISTANCE?new Phaser.Math.Vector2(this.getData("fromX"),this.getData("fromY")).distance(this)>this.getData("killDistance")&&this.kill():Phaser.Geom.Intersects.RectangleToRectangle(t.bulletBounds,this.body.getBounds(this.getData("bodyBounds")))||this.kill()),this.getData("rotateToVelocity")&&(this.rotation=Math.atan2(this.body.velocity.y,this.body.velocity.x)),t.bulletWorldWrap&&this.scene.physics.world.wrap(this,t.bulletWorldWrapPadding)}}const h=a},(t,e,i)=>{var l,s,r;i.r(e),i.d(e,{KillType:()=>l,Angle:()=>s,FrameType:()=>r,default:()=>a}),function(t){t[t.KILL_NEVER=0]="KILL_NEVER",t[t.KILL_LIFESPAN=1]="KILL_LIFESPAN",t[t.KILL_DISTANCE=2]="KILL_DISTANCE",t[t.KILL_WEAPON_BOUNDS=3]="KILL_WEAPON_BOUNDS",t[t.KILL_CAMERA_BOUNDS=4]="KILL_CAMERA_BOUNDS",t[t.KILL_WORLD_BOUNDS=5]="KILL_WORLD_BOUNDS",t[t.KILL_STATIC_BOUNDS=6]="KILL_STATIC_BOUNDS"}(l||(l={})),function(t){t[t.ANGLE_UP=270]="ANGLE_UP",t[t.ANGLE_DOWN=90]="ANGLE_DOWN",t[t.ANGLE_LEFT=180]="ANGLE_LEFT",t[t.ANGLE_RIGHT=0]="ANGLE_RIGHT",t[t.ANGLE_NORTH_EAST=315]="ANGLE_NORTH_EAST",t[t.ANGLE_NORTH_WEST=225]="ANGLE_NORTH_WEST",t[t.ANGLE_SOUTH_EAST=45]="ANGLE_SOUTH_EAST",t[t.ANGLE_SOUTH_WEST=135]="ANGLE_SOUTH_WEST"}(s||(s={})),function(t){t[t.BULLET_FRAME_STABLE=0]="BULLET_FRAME_STABLE",t[t.BULLET_FRAME_CYCLE=1]="BULLET_FRAME_CYCLE",t[t.BULLET_FRAME_RANDOM=2]="BULLET_FRAME_RANDOM"}(r||(r={}));const a={KillType:l,Angle:s,FrameType:r}},(t,e,i)=>{i.r(e),i.d(e,{WEAPON_FIRE:()=>l,WEAPON_FIRE_LIMIT:()=>s,BULLET_KILL:()=>r,default:()=>a});const l="fire",s="firelimit",r="kill",a={WEAPON_FIRE:l,WEAPON_FIRE_LIMIT:s,BULLET_KILL:r}},(t,e,i)=>{i.r(e),i.d(e,{log:()=>s,default:()=>r});var l=i(3);function s(t,e){if("warn"===e)console.warn(t);else if("error"===e)throw new Error(t)}const r=function(t,e="all"){!["bulletWorldWrap","bulletKillType"].includes(e)&&"all"!==e||!t.bulletWorldWrap||t.bulletKillType!==l.default.KillType.KILL_WORLD_BOUNDS&&t.bulletKillType!==l.default.KillType.KILL_WEAPON_BOUNDS||s("Warning: KILL_WORLD_BOUNDS and KILL_WEAPON_BOUNDS does not work well with bulletWorldWrap set to true.",t.logLevel),(["bulletKillType","bulletLifespan"].includes(e)||"all"===e)&&t.bulletKillType===l.default.KillType.KILL_LIFESPAN&&t.bulletLifespan<0&&s("Invalid bulletLifespan; must be > 0; currently "+t.bulletLifespan,t.logLevel),!["trackRotation","trackedSprite"].includes(e)&&"all"!==e||!0!==t.trackRotation||void 0!==t.trackedSprite?.rotation&&void 0!==t.trackedSprite.angle||s("Warning: Weapon cannot track rotation of an object without a rotation and/or angle property.",t.logLevel),!["bulletInheritSpriteSpeed","trackedSprite"].includes(e)&&"all"!==e||!0!==t.bulletInheritSpriteSpeed||t.trackedSprite?.body||s("Warning: Bullet cannot inherit speed from a sprite without a body.",t.logLevel);const i=["fireLimit","fireRate","fireRateVariance","bulletAngleVariance","bulletSpeedVariance","bulletKillDistance"];"all"===e?i.forEach((i=>{void 0!==t[i]&&t[i]<0&&s("Invalid "+e+"; must be >= 0; currently "+t[i],t.logLevel)})):i.includes(e)&&void 0!==t[e]&&t[e]<0&&s("Invalid "+e+"; must be >= 0; currently "+t[e],t.logLevel)}},(t,e,i)=>{i.r(e),i.d(e,{default:()=>r});var l=i(1);class s extends Phaser.Plugins.ScenePlugin{constructor(t,e){super(t,e),this.weapons=void 0,this.weapons=[],e.registerGameObject("weapon",this.add.bind(this),(t=>this.add(t.bulletLimit,t.key,t.frame,t.group,t.weaponClass)))}add(t,e,i,s,r=l.default){const a=new r(this.scene,t,e,i,s);return this.weapons.push(a),a}start(){this.systems.events.on(Phaser.Core.Events.POST_RENDER,this.postRender,this)}boot(){const t=this.systems.events;t.on(Phaser.Scenes.Events.UPDATE,this.update,this),t.on(Phaser.Core.Events.DESTROY,this.destroy,this)}update(){this.weapons.forEach((t=>{t.update()}))}postRender(){this.weapons.forEach((t=>{t.postRender()}))}destroy(){super.destroy(),this.weapons.forEach((t=>{t.destroy()}))}}const r=s}],e={};function i(l){if(e[l])return e[l].exports;var s=e[l]={exports:{}};return t[l](s,s.exports,i),s.exports}return i.d=(t,e)=>{for(var l in e)i.o(e,l)&&!i.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(0)})()}));
//# sourceMappingURL=WeaponPlugin.modern.min.js.map